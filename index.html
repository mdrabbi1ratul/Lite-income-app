<!DOCTYPE html>  
<html lang="bn">  
<head>  
    <meta charset="UTF-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0">  
    <title>Lite Income - Professional App</title>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js"></script>
    <script src='//libtl.com/sdk.js' data-zone='10411839' data-sdk='show_10411839'></script>  

<style>
    :root { --primary-blue: #3498db; --dark-bg: #0a0b10; --card-bg: #161b22; --text-white: #e6edf3; --accent-red: #e74c3c; --success-green: #2ecc71; --warning-yellow: #f1c40f; }
    body { margin:0; font-family: 'Segoe UI', sans-serif; background: var(--dark-bg); color: var(--text-white); padding: 15px; padding-bottom: 100px; user-select: none; }
    .nav-bar { position: fixed; bottom: 15px; left: 10px; right: 10px; background: rgba(22, 27, 34, 0.95); display: flex; justify-content: space-around; padding: 12px 5px; border-radius: 25px; border: 1px solid rgba(52, 152, 219, 0.3); box-shadow: 0 8px 32px rgba(0,0,0,0.5); z-index: 1000; backdrop-filter: blur(10px); }
    .nav-item { color: #8b949e; font-size: 11px; text-align: center; cursor: pointer; flex: 1; transition: all 0.3s ease; font-weight: 500; }
    .nav-item span { font-size: 20px; display: block; margin-bottom: 2px; transition: 0.3s; }
    .nav-item.active { color: #fff; transform: translateY(-8px); }
    .nav-item.active span { transform: scale(1.3); text-shadow: 0 0 15px var(--primary-blue); }
    #auth-page { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--dark-bg); z-index: 5000; display: flex; flex-direction: column; justify-content: center; align-items: center; padding: 20px; box-sizing: border-box; }
    .pass-container { position: relative; width: 100%; }
    .toggle-pass { position: absolute; right: 10px; top: 50%; transform: translateY(-50%); cursor: pointer; color: var(--primary-blue); font-size: 12px; font-weight: bold; }
    .page { display: none; animation: fadeIn 0.3s ease; }
    .active-page { display: block; }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    .card { background: var(--card-bg); border: 1px solid var(--primary-blue); border-radius: 15px; padding: 20px; text-align: center; margin-bottom: 15px; }
    .main-bal { font-size: 42px; font-weight: bold; color: var(--primary-blue); margin: 10px 0; }
    .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
    .grid-item { background: #0d1117; border: 2px solid #30363d; border-radius: 12px; padding: 15px; text-align: center; }
    .grid-item span { font-size: 14px; color: var(--primary-blue); font-weight: bold; }
    .grid-item p { margin: 8px 0 0; font-size: 20px; font-weight: bold; color: #fff; }
    .btn { background: var(--primary-blue); color: #fff; border: none; padding: 15px; border-radius: 10px; width: 100%; font-size: 16px; font-weight: bold; cursor: pointer; margin-top: 10px; transition: 0.2s; }
    .btn:disabled { background: #1e293b !important; cursor: not-allowed; opacity: 0.7; border: 1px solid #334155; }
    .btn-bonus { background: var(--success-green); }
    input, select { width: 100%; padding: 12px; margin: 10px 0; background: #0d1117; border: 1px solid #30363d; color: white; border-radius: 8px; box-sizing: border-box; }
    .hist-item { background: #0d1117; padding: 12px; border-radius: 10px; margin-bottom: 8px; border-left: 4px solid var(--primary-blue); display: flex; justify-content: space-between; align-items: center; }
    .ref-box { background: #0d1117; border-radius: 10px; padding: 15px; margin-top: 10px; border: 1px dashed var(--primary-blue); word-break: break-all; font-size: 12px; color: var(--warning-yellow); }  
    .timer-display { font-family: 'Courier New', monospace; font-size: 28px; font-weight: bold; color: var(--success-green); text-shadow: 0 0 10px rgba(46, 204, 113, 0.3); }
    .notice-box { background: rgba(241, 196, 15, 0.1); border: 1px solid var(--warning-yellow); color: var(--warning-yellow); padding: 15px; border-radius: 10px; margin-bottom: 15px; text-align: left; font-size: 14px; }
</style>
</head>  
<body>  
    <div id="auth-page">  
        <div class="card" style="width: 100%; max-width: 400px;">  
            <h2 id="auth-title" style="color: var(--primary-blue);">Login</h2>  
            <input type="email" id="auth-email" placeholder="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶á‡¶Æ‡ßá‡¶á‡¶≤">  
            <div class="pass-container">  
                <input type="password" id="auth-pass" placeholder="‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶°">  
                <span class="toggle-pass" onclick="togglePassword()">SHOW</span>  
            </div>  
            <button class="btn" id="auth-btn" onclick="handleAuth()">Login Now</button>  
            <p id="auth-toggle-text" style="font-size: 14px; margin-top: 15px;">Account ‡¶®‡ßá‡¶á? <span style="color: var(--primary-blue); cursor: pointer;" onclick="toggleAuth()">Sign Up ‡¶ï‡¶∞‡ßÅ‡¶®</span></p>  
        </div>  
    </div>  

    <div id="main-content" style="display: none;">  
        <div id="home" class="page active-page">  
            <div id="notice-container" class="notice-box">Loading notice...</div>
            <div class="card">  
                <h4 id="uName">‡¶∏‡ßç‡¶¨‡¶æ‡¶ó‡¶§‡¶Æ!</h4>  
                <div class="main-bal" id="hBal">$0.00</div>  
            </div>  
            <div class="grid">  
                <div class="grid-item"><span>‡¶ü‡ßÅ‡¶°‡ßá ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï</span><p id="hTaskAvail">0</p></div>  
                <div class="grid-item"><span>‡¶∏‡¶´‡¶≤ ‡¶∞‡ßá‡¶´‡¶æ‡¶∞</span><p id="hRefCount">0</p></div>  
                <div class="grid-item" style="grid-column: span 2;"><span>‡¶ü‡ßã‡¶ü‡¶æ‡¶≤ ‡¶è‡¶° ‡¶≠‡¶ø‡¶â</span><p id="hCompleteAds">0 / 0</p></div>  
            </div>  
            <h3 style="margin-top:20px; text-align:left; border-left:3px solid var(--success-green); padding-left:10px;">‡¶°‡ßá‡¶á‡¶≤‡¶ø ‡¶è‡¶ï‡ßç‡¶ü‡¶ø‡¶≠‡¶ø‡¶ü‡¶ø</h3>
            <div id="dailyActivityList" class="hist-list"></div>
        </div>  

        <div id="task" class="page">  
            <div class="card">‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏: <b id="tBal" style="color:var(--primary-blue)">$0.00</b></div>  
            <div class="card" style="background:#0d1117">
                <div style="font-size:12px; color:gray; margin-bottom:5px">NEXT TASK IN</div>
                <div class="timer-display" id="main-timer">00:00:00</div>
            </div>
            <button id="dailyBtn" class="btn btn-bonus" onclick="claimDailyBonus()">Daily Bonus</button>  
            <div class="card" style="margin-top:15px; border-style:dashed;">  
                <button id="adBtn" class="btn" onclick="playAd()">Watch Ad</button>  
                <p id="tLimit" style="margin-top:10px;">0 / 0</p>
            </div>  
        </div>  

        <div id="withdraw" class="page">  
            <div class="card">  
                <span>‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏: <b id="wBal" style="color:var(--primary-blue)">$0.00</b></span><br>
                <small id="minWithdrawText" style="color: var(--warning-yellow); display: block; margin-top: 5px;">‡¶Æ‡¶ø‡¶®‡¶ø‡¶Æ‡¶æ‡¶Æ ‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞: $0.00</small>
                
                <select id="wMethod"><option>bKash</option><option>Nagad</option><option>Recharge</option></select>  
                <input id="wNumber" placeholder="‡¶®‡¶Æ‡ßç‡¶¨‡¶∞">  
                <input id="wAmount" type="number" placeholder="‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£ ($)">  
                <button class="btn" onclick="requestWithdraw()">Request Withdraw</button>  
            </div>
            <h3 style="padding-left:10px; border-left:3px solid var(--primary-blue);">‡¶≤‡ßá‡¶®‡¶¶‡ßá‡¶® ‡¶π‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡¶ø</h3>
            <div class="hist-list" id="withdrawHistoryList"></div>
        </div>  

        <div id="profile" class="page">  
            <div class="card">  
                <h3 style="color:var(--primary-blue)">‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤</h3>  
                <p id="pEmail" style="color:gray"></p>  
                <div class="ref-box" id="refLinkText">‡¶≤‡¶ø‡¶ô‡ßç‡¶ï ‡¶§‡ßà‡¶∞‡¶ø ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</div>  
                <button class="btn" onclick="copyRef()">Copy Link</button>  
                <div style="margin-top:20px; border: 1px solid #30363d; padding:15px; border-radius:12px;">  
                    <span>‡¶™‡ßá‡¶®‡ßç‡¶°‡¶ø‡¶Ç ‡¶∞‡ßá‡¶´‡¶æ‡¶∞: <b id="pRefCount" style="color:var(--warning-yellow)">0</b></span><br>  
                    <button class="btn btn-bonus" onclick="claimReferBonus()">Claim Bonus</button>  
                </div>  
                <button class="btn" style="background:var(--accent-red); margin-top:30px;" onclick="logout()">Logout</button>  
            </div>  
        </div>  

        <div id="support" class="page">
            <div class="card">
                <h3 style="color:var(--primary-blue)">‡¶∏‡¶æ‡¶∞‡ßç‡¶™‡ßã‡¶ü ‡¶∏‡ßá‡¶ï‡¶∂‡¶®</h3>
                <p>‡¶Ø‡ßá‡¶ï‡ßã‡¶®‡ßã ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ‡ßü ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶ü‡ßá‡¶≤‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ‡ßá ‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</p>
                <button class="btn" style="background:#0088cc" onclick="window.open('https://t.me/YourChannel')">Join Telegram Channel</button>
                <button class="btn" style="background:#2481cc; margin-top:10px" onclick="window.open('https://t.me/YourAdmin')">Contact Admin</button>
            </div>
        </div>

        <div class="nav-bar">  
            <div class="nav-item active" onclick="showPage('home', this)"><span>üè†</span>Home</div>  
            <div class="nav-item" onclick="showPage('task', this)"><span>üéØ</span>Task</div>  
            <div class="nav-item" onclick="showPage('withdraw', this)"><span>üí∞</span>Withdraw</div>  
            <div class="nav-item" onclick="showPage('profile', this)"><span>üë§</span>Profile</div>  
            <div class="nav-item" onclick="showPage('support', this)"><span>üéß</span>Support</div>
        </div>  
    </div>

<script>
    const firebaseConfig = {
        apiKey: "AIzaSyD_umGq2C78hRinwHGl9SNVFuZzb12iooc",
        databaseURL: "https://lite-income-f6287-default-rtdb.firebaseio.com/",
        projectId: "lite-income-f6287",
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    const refBy = new URLSearchParams(window.location.search).get('start');
    // ‡¶Æ‡¶ø‡¶®‡¶ø‡¶Æ‡¶æ‡¶Æ ‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞ ‡¶°‡¶ø‡¶´‡¶≤‡ßç‡¶ü ‡¶≠‡ßç‡¶Ø‡¶æ‡¶≤‡ßÅ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá
    let appConfig = { adLimit: 15, cooldownMins: 720, referReward: 0.10, dailyBonus: 0.05, notice: "‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡ßá ‡¶∏‡ßç‡¶¨‡¶æ‡¶ó‡¶§‡¶Æ!", minWithdraw: 1.00 };
    let userData = { uid: "", balance: 0.00, ads: 0, lastAdTime: 0, taskLockTime: 0, lastDaily: 0, history: [], dailyActivity: {}, referCount: 0, email: "", password: "", status: "Active" };

    // ‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏ ‡¶è‡¶¨‡¶Ç ‡¶®‡ßã‡¶ü‡¶ø‡¶∂ ‡¶≤‡ßã‡¶°
    db.ref('app_config').on('value', snap => {
        if(snap.exists()) {
            appConfig = {...appConfig, ...snap.val()};
            document.getElementById('notice-container').innerText = appConfig.notice || "‡¶ï‡ßã‡¶®‡ßã ‡¶®‡ßã‡¶ü‡¶ø‡¶∂ ‡¶®‡ßá‡¶á‡•§";
            // ‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞ ‡¶™‡ßá‡¶ú‡ßá ‡¶Æ‡¶ø‡¶®‡¶ø‡¶Æ‡¶æ‡¶Æ ‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü ‡¶Ü‡¶™‡¶°‡ßá‡¶ü
            document.getElementById('minWithdrawText').innerText = "‡¶Æ‡¶ø‡¶®‡¶ø‡¶Æ‡¶æ‡¶Æ ‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞: $" + (appConfig.minWithdraw || 1.00).toFixed(2);
            updateUI();
        }
    });

    function toggleAuth() {
        const title = document.getElementById('auth-title'), btn = document.getElementById('auth-btn'), text = document.getElementById('auth-toggle-text');
        if (title.innerText === "Login") {
            title.innerText = "Sign Up"; btn.innerText = "Register Now";
            text.innerHTML = 'Account ‡¶Ü‡¶õ‡ßá? <span style="color: var(--primary-blue); cursor: pointer;" onclick="toggleAuth()">Login ‡¶ï‡¶∞‡ßÅ‡¶®</span>';
        } else {
            title.innerText = "Login"; btn.innerText = "Login Now";
            text.innerHTML = 'Account ‡¶®‡ßá‡¶á? <span style="color: var(--primary-blue); cursor: pointer;" onclick="toggleAuth()">Sign Up ‡¶ï‡¶∞‡ßÅ‡¶®</span>';
        }
    }

    function handleAuth() {
        const email = document.getElementById('auth-email').value.trim(), pass = document.getElementById('auth-pass').value.trim(), mode = document.getElementById('auth-title').innerText;
        if (!email || !pass) return alert("‡¶∏‡¶¨ ‡¶™‡ßÇ‡¶∞‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶®!");
        const uid = btoa(email).replace(/=/g, "").substring(0, 15);

        if (mode === "Sign Up") {
            db.ref('users/' + uid).once('value', snap => {
                if (snap.exists()) alert("Account exists!");
                else {
                    userData.uid = uid; userData.email = email; userData.password = pass;
                    db.ref('users/' + uid).set(userData).then(() => {
                        if(refBy) db.ref('users/' + refBy + '/referCount').set(firebase.database.ServerValue.increment(1));
                        alert("Success!"); toggleAuth();
                    });
                }
            });
        } else {
            db.ref('users/' + uid).once('value', snap => {
                if (snap.exists() && snap.val().password === pass) {
                    userData = snap.val(); localStorage.setItem('lite_user_id', uid); loginSuccess();
                } else alert("Wrong credentials!");
            });
        }
    }

    function loginSuccess() {
        document.getElementById('auth-page').style.display = 'none';
        document.getElementById('main-content').style.display = 'block';
        db.ref('users/' + userData.uid).on('value', snap => { if(snap.exists()) { userData = snap.val(); updateUI(); } });
    }

    function updateUI() {
        const bal = (userData.balance || 0).toFixed(2);
        document.getElementById('hBal').innerText = "$" + bal;
        document.getElementById('tBal').innerText = "$" + bal;
        document.getElementById('wBal').innerText = "$" + bal;
        document.getElementById('pEmail').innerText = userData.email;
        document.getElementById('hRefCount').innerText = userData.referCount || 0;
        document.getElementById('pRefCount').innerText = userData.referCount || 0;
        document.getElementById('hCompleteAds').innerText = (userData.ads || 0) + " / " + appConfig.adLimit;
        document.getElementById('tLimit').innerText = (userData.ads || 0) + " / " + appConfig.adLimit;
        document.getElementById('refLinkText').innerText = window.location.origin + window.location.pathname + "?start=" + userData.uid;
        
        const dBtn = document.getElementById('dailyBtn');
        if (new Date().toDateString() === new Date(userData.lastDaily || 0).toDateString()) {
            dBtn.disabled = true; dBtn.innerText = "Claimed"; dBtn.style.background = "#e74c3c";
        } else {
            dBtn.disabled = false; dBtn.innerText = "Daily Bonus"; dBtn.style.background = "#2ecc71";
        }
        checkCooldowns();
        renderWithdrawHistory();
        renderDailyActivity();
    }

    function claimDailyBonus() {
        if (typeof show_10411839 === 'function') {
            show_10411839().then(() => {
                const today = new Date().toDateString();
                let activity = userData.dailyActivity || {};
                if(!activity[today]) activity[today] = { ads: 0, income: 0, bonus: 0 };
                activity[today].bonus += 1;
                activity[today].income += appConfig.dailyBonus;
                db.ref('users/' + userData.uid).update({ balance: userData.balance + appConfig.dailyBonus, lastDaily: Date.now(), dailyActivity: activity });
            });
        }
    }

    function playAd() {
        if (userData.ads >= appConfig.adLimit) return alert("Limit Over!");
        if (typeof show_10411839 === 'function') {
            show_10411839().then(() => {
                const today = new Date().toDateString();
                let activity = userData.dailyActivity || {};
                if(!activity[today]) activity[today] = { ads: 0, income: 0, bonus: 0 };
                activity[today].ads += 1;
                activity[today].income += 0.01;
                let updates = { balance: userData.balance + 0.01, ads: userData.ads + 1, lastAdTime: Date.now(), dailyActivity: activity };
                if (updates.ads >= appConfig.adLimit) updates.taskLockTime = Date.now() + (appConfig.cooldownMins * 60000);
                db.ref('users/' + userData.uid).update(updates);
            });
        }
    }

    function renderDailyActivity() {
        const list = document.getElementById('dailyActivityList');
        if (!userData.dailyActivity) return;
        const sorted = Object.keys(userData.dailyActivity).reverse();
        list.innerHTML = sorted.slice(0, 5).map(date => {
            const d = userData.dailyActivity[date];
            return `<div class="hist-item"><div><b>${date}</b><br><small>Ads: ${d.ads} | Bonus: ${d.bonus}</small></div><div style="color:var(--success-green)">+$${d.income.toFixed(3)}</div></div>`;
        }).join('');
    }

    function checkCooldowns() {
        const now = Date.now(), adBtn = document.getElementById('adBtn'), timerText = document.getElementById('main-timer');
        if (userData.taskLockTime && now < userData.taskLockTime) {
            adBtn.disabled = true; startTaskCountdown(userData.taskLockTime);
        } else {
            if(userData.taskLockTime) db.ref('users/' + userData.uid).update({ ads: 0, taskLockTime: 0 });
            adBtn.disabled = false; timerText.innerText = "00:00:00";
        }
    }

    function startTaskCountdown(lock) {
        if(window.taskInterval) clearInterval(window.taskInterval);
        window.taskInterval = setInterval(() => {
            const diff = lock - Date.now();
            if (diff <= 0) { clearInterval(window.taskInterval); updateUI(); return; }
            const h = Math.floor(diff/3600000), m = Math.floor((diff%3600000)/60000), s = Math.floor((diff%60000)/1000);
            document.getElementById('main-timer').innerText = `${h<10?'0'+h:h}:${m<10?'0'+m:m}:${s<10?'0'+s:s}`;
        }, 1000);
    }

    function requestWithdraw() {
        const amt = parseFloat(document.getElementById('wAmount').value), method = document.getElementById('wMethod').value, num = document.getElementById('wNumber').value;
        const minLimit = appConfig.minWithdraw || 1.00; // ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡¶Æ‡¶ø‡¶® ‡¶•‡ßá‡¶ï‡ßá ‡¶Ü‡¶∏‡¶æ ‡¶≤‡¶ø‡¶Æ‡¶ø‡¶ü

        if(!num || isNaN(amt)) return alert("‡¶∏‡¶¨ ‡¶§‡¶•‡ßç‡¶Ø ‡¶™‡ßÇ‡¶∞‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶®!");
        if(amt < minLimit) return alert("‡¶¶‡ßÅ‡¶É‡¶ñ‡¶ø‡¶§! ‡¶Æ‡¶ø‡¶®‡¶ø‡¶Æ‡¶æ‡¶Æ ‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞ ‡¶≤‡¶ø‡¶Æ‡¶ø‡¶ü $" + minLimit.toFixed(2));
        if(amt > userData.balance) return alert("‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡¶∞‡ßç‡¶Ø‡¶æ‡¶™‡ßç‡¶§ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏ ‡¶®‡ßá‡¶á! ‡¶¨‡¶∞‡ßç‡¶§‡¶Æ‡¶æ‡¶® ‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏: $" + userData.balance.toFixed(2));

        const req = { email: userData.email, amount: amt, method: method, number: num, status: "Pending", date: new Date().toLocaleString() };
        db.ref('withdraws').push(req);
        
        let hist = userData.history || [];
        hist.unshift({ type: 'Withdraw ('+method+')', amount: amt, status: 'Pending', date: req.date });
        db.ref('users/' + userData.uid).update({ balance: userData.balance - amt, history: hist }).then(() => {
            alert("‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶∞‡¶ø‡¶ï‡ßã‡ßü‡ßá‡¶∏‡ßç‡¶ü ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã ‡¶π‡ßü‡ßá‡¶õ‡ßá!");
            document.getElementById('wAmount').value = "";
            document.getElementById('wNumber').value = "";
        });
    }

    function claimReferBonus() {
        if((userData.referCount || 0) <= 0) return alert("No referrals!");
        db.ref('refer_claims').push({ refByEmail: userData.email, refByUid: userData.uid, status: "Pending", date: new Date().toLocaleString() });
        db.ref('users/' + userData.uid).update({ referCount: userData.referCount - 1 });
    }

    function renderWithdrawHistory() {
        const list = document.getElementById('withdrawHistoryList');
        if (!userData.history || userData.history.length === 0) { list.innerHTML = "<p>No History</p>"; return; }
        list.innerHTML = userData.history.map(item => `<div class="hist-item"><div><b>${item.type}</b><br><small>${item.date}</small></div><div class="status-${item.status.toLowerCase()}" style="color:var(--warning-yellow)">$${item.amount.toFixed(2)} - ${item.status}</div></div>`).join('');
    }

    function togglePassword() { const pass = document.getElementById('auth-pass'); pass.type = pass.type === "password" ? "text" : "password"; }
    function showPage(id, el) { 
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active-page'));
        document.getElementById(id).classList.add('active-page');
        document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
        el.classList.add('active');
    }
    function copyRef() { navigator.clipboard.writeText(document.getElementById('refLinkText').innerText); alert("Copied!"); }
    function logout() { localStorage.clear(); location.reload(); }

    const savedUid = localStorage.getItem('lite_user_id');
    if(savedUid) db.ref('users/' + savedUid).once('value', snap => { if(snap.exists()) { userData = snap.val(); loginSuccess(); } });
</script>
</body>
            </html>
